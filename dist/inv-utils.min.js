!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.invUtils=t()}}(function(){return function t(n,e,r){function i(u,a){if(!e[u]){if(!n[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=e[u]={exports:{}};n[u][0].call(l.exports,function(t){var e=n[u][1][t];return i(e?e:t)},l,l.exports,t,n,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,n,e){(function(){var e,r;r=t("./types"),e=t("./misc"),n.exports=function(t){return t.extend(t,r),t.extend(t,e(t))}}).call(this)},{"./misc":2,"./types":3}],2:[function(t,n,e){(function(){var t=[].slice;n.exports=function(n){return{idGenerator:function(t,e){var r,i,o;for(o="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e||(i+="0123456789"),r=0;t>r;)o+=i.charAt(n.random(i.length-1)),r++;return o},hashCode:function(t){var n,e,r,i,o;if(o=[0,0,t.length],e=o[0],r=o[1],i=o[2],0===i)return e;for(;i>r;)n=t.charCodeAt(r),e=(e<<5)-e+n,e|=0,r++;return Math.abs(e)},niceDate:function(){return(new Date).toISOString().split("T")[0]},timeSinceMidnight:function(){var t,e;return e=this.niceDate(),t=new Date(e).getTime(),n.now()-t},buildPath:function(t,e,r){var i,o,u;if(e=this.removeUndefined(e),null==e||n.isEmpty(e))return t;o="";for(i in e)u=e[i],r&&(u=this.dropSpecialCharacters(u)),o+="&"+i+"="+u;return t+"?"+o.slice(1)},parseQuery:function(t){var e;return n.type(t,"string|undefined"),e={},null!=t&&t.replace(/^\?/,"").split("&").forEach(function(t){var r,i;return r=t.split("="),(null!=(i=r[0])?i.length:void 0)>0&&null!=r[1]?e[r[0]]=n.softDecodeURI(r[1]):void 0}),e},softEncodeURI:function(t){return n.typeString(t).replace(/(\s|')/g,"_").replace(/\?/g,"")},softDecodeURI:function(t){return n.typeString(t).replace(/_/g," ")},removeUndefined:function(t){var n,e,r;e={};for(n in t)r=t[n],null!=r&&(e[n]=r);return e},dropSpecialCharacters:function(t){return t.replace(/\s+/g," ").replace(/(\?|\:)/g,"")},isUrl:function(t){var n,e;return n="^(https?:\\/\\/)?(\\w+:\\w+@)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))|(localhost)(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$",e=new RegExp(n,"i"),e.test(t)},isDataUrl:function(t){return/^data:image/.test(t)},isHostedPicture:function(t){return/img(loc)?.inventaire.io\/\w{22}.jpg$/.test(t)},pickToArray:function(){var e,r,i;return e=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],n.isArray(i[0])&&(i=i[0]),n.typeArray(i),r=n.pick(e,i),i.map(function(t){return r[t]})},mergeArrays:n.union,matchesCount:function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],n.intersection.apply(n,e).length},haveAMatch:function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],n.matchesCount.apply(null,e)>0},duplicatesArray:function(t,n){var e;return function(){e=[];for(var t=1;n>=1?n>=t:t>=n;n>=1?t++:t--)e.push(t);return e}.apply(this).map(function(){return t})},objLength:function(t){var n;return null!=(n=Object.keys(t))?n.length:void 0},qrcode:function(t,n){return null==n&&(n=250),"http://chart.apis.google.com/chart?cht=qr&chs="+n+"x"+n+"&chl="+t},piped:function(t){return n.forceArray(t).join("|")},expired:function(t,n){return this.now()-t>n},isNonEmptyString:function(t){return n.isString(t)&&t.length>0},dropProtocol:function(t){return t.replace(/^(https?:)?\/\//,"")},cdn:function(t,e,r,i){var o;return/^https/.test(t)?t:(n.isNumber(r)||(r=e),o=e+"x"+r,i||(o+="g"),t=this.dropProtocol(t),"http://cdn.filter.to/"+o+"/"+t)},bestImageWidth:function(t){return 500>t?t:(("undefined"!=typeof screen&&null!==screen?screen.width:void 0)&&(t=Math.min(t,screen.width)),100*Math.ceil(t/100))},shortLang:function(t){return null!=t?t.slice(0,2):void 0}}}}).call(this)},{}],3:[function(t,n,e){(function(){var t=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1};n.exports={type:function(n,e){var r;if(r=this.typeOf(n),t.call(e.split("|"),r)>=0)return n;throw new Error("TypeError: expected "+e+", got "+n+" ("+r+")")},types:function(t,n,e){var r,i,o,u,a,c;if(t=this.toArray(t),"string"==typeof n&&n.split("s...").length>1&&(c=n.split("s...").join(""),n=this.duplicatesArray(c,t.length)),this.type(t,"array"),this.type(n,"array"),null!=e&&this.type(e,"number"),a=null!=e?n.length>=(o=t.length)&&o>=e:t.length===n.length,!a)throw r=null!=e?"expected between "+e+" and "+n.length+" arguments, got "+t.length+": "+t:"expected "+n.length+" arguments, got "+t.length+": "+t,console.log(t),new Error(r);i=0;try{for(u=[];i<t.length;)this.type(t[i],n[i]),u.push(i+=1);return u}catch(s){throw r=s,this.error(arguments,"types err arguments"),r}},typeOf:function(t){var n;if(n=typeof t,"object"===n){if(this.isNull(t))return"null";if(this.isArray(t))return"array"}return"number"===n&&this.isNaN(t)?"NaN":n},areStrings:function(t){return this.all(t,this.isString)},typeString:function(t){return this.type(t,"string")},typeArray:function(t){return this.type(t,"array")},forceArray:function(t){return null==t?[]:this.isArray(t)?t:[t]},forceObject:function(t,n){var e;return this.isObject(t)?t:(e={},e[t]=n,e)}}}).call(this)},{}]},{},[1])(1)});
